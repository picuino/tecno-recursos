<!DOCTYPE html>
<html class="no-js" lang="en" >
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="keywords" content="Technology, Secondary Education, Drawing, Structures, Mechanisms, Materials, Electricity, Electronics, Computer Science, Programming, Control, Arduino, Communications, Workshop">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Libre educational resources for Technology in Secondary Education. Robótica - System control - PID controller">
  <title>PID controller - System control - Picuino</title>

  
  <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96.png">
  <link rel="icon" type="image/png" sizes="48x48" href="/favicon-48.png">

  
  <link rel="canonical" href="https://www.picuino.com/en/control-pid.html">

  
  <link rel="search" type="application/opensearchdescription+xml"
        title="Search within ..."
        href="_static/opensearch.xml">

  <link rel="stylesheet" href="_static/theme.css" type="text/css">
  <link rel="stylesheet" href="_static/pygments.css" type="text/css">
  <link rel="stylesheet" href="_static/custom.css" type="text/css">
  <link rel="glossary" title="Glossary" href="genindex.html">
  <link rel="index" title="Index" href="content.html">
  <link rel="search" title="Search" href="search.html">
  <link rel="next" title="Ziegler–Nichols method" href="control-ziegler-nichols.html">
  <link rel="prev" title="Automatic control" href="control-auto.html">

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    <div data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="content.html"><img src="_static/logo-picuino-bgblue.png" alt="O_[]¯O Picuino"></a>
      </nav>

	  <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="content.html">Home</a>/</li>
        
          <li><a href="robotica-index.html">Robótica</a>/</li>
        
          <li><a href="control-index.html">System control</a>/</li>
        
      <li>PID controller</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/control-pid.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  

  
  <div style="background-color:#fdd; padding: 6px; margin:12px 0 12px 0">
  Attention: this page comes from an automatic translation of the original Spanish page.
  If you would like to collaborate, please
  <a href="contacto.html" target="_blank">contact</a> the author
  with the updated
  <a href="https://raw.githubusercontent.com/picuino/tecno-recursos/main/locale/en/LC_MESSAGES/control-pid.po" target="_blank">translation file</a>.
  </div>
  
  <hr>

</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="controlador-pid">
<span id="control-pid"></span><h1>PID controller<a class="headerlink" href="#controlador-pid" title="Permalink to this headline">¶</a></h1>
<p>A PID controller or regulator is a device that allows a closed-loop system to be controlled so that it reaches the desired output state. The PID controller is composed of three elements that provide Proportional, Integral and Derivative action. These three actions are what give the PID controller its name.</p>
<a class="reference internal image-reference" href="_images/img-0055.png"><img alt="Sistema de control en lazo cerrado con controlador PID" class="align-center" src="_images/img-0055.png" style="width: 640px;"></a>
<div class="section" id="senal-de-referencia-y-senal-de-error">
<h2>Reference signal and error signal<a class="headerlink" href="#senal-de-referencia-y-senal-de-error" title="Permalink to this headline">¶</a></h2>
<p>The signal <strong>r(t)</strong> is called <strong>reference</strong> and indicates the desired state to be achieved at the output of the system <strong>y(t)</strong>.</p>
<p>The letter <strong>t</strong> inside the parentheses means that the signals change with time (t), that is, they do not remain with the same value.</p>
<p>In a temperature control system, the reference r(t) will be the desired temperature and the output y(t) will be the actual temperature of the controlled system, which will change with time.</p>
<p>As can be seen in the diagram above, the input to the PID controller is the <strong>error signal e(t)</strong>. This signal indicates to the controller the difference that exists between the state to be achieved or reference r(t) and the real state of the system measured by the sensor, signal <strong>h(t)</strong>.</p>
<p>If the error signal is large, it means that the state of the system is far from the desired reference state. If, on the other hand, the error is small, it means that the system has reached the desired state.</p>
</div>
<div class="section" id="accion-de-control-proporcional">
<h2>Control Action Proportional<a class="headerlink" href="#accion-de-control-proporcional" title="Permalink to this headline">¶</a></h2>
<p>As its name indicates, this control action is proportional to the error signal e(t). Internally the proportional action multiplies the error signal by a constant <strong>Kp</strong> which determines the amount of proportional action the controller will have.</p>
<p>This control action attempts to minimize system error. When the error is large, the control action is large and tends to minimize this error.</p>
<p>Increasing the proportional action <strong>Kp</strong> has the following effects:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Increases the response speed of the system.</li>
<li>Decreases the system error in permanent regime.</li>
<li>Increases system instability.</li>
</ol>
</div></blockquote>
<p>The first two effects are positive and desirable. The last effect is negative and you have to try to reduce it. By increasing the proportional action there is a balance point where sufficient system response speed and error reduction are achieved, without making the system too unstable. Increasing the proportional action beyond this point will produce undesirable instability. Reducing the proportional action will reduce the response speed of the system and increase its permanent error.</p>
<a class="reference internal image-reference" href="_images/img-0056.png"><img alt="PID. Respuesta al Control Proporcional." class="align-center" src="_images/img-0056.png" style="width: 800px;"></a>
<p>In the graphs above you can see the effect of progressively increasing the proportional action in a position control.</p>
<blockquote>
<div><ul class="simple">
<li>With a small proportional action Kp=2, the system is slow, taking 20 seconds to reach the desired position, and the position error is large, 50 millimeters. As the proportional action is increased, the error decreases and the response speed increases.</li>
<li>With a proportional gain Kp=20 the system is faster, taking 12 seconds to establish the permanent position. Likewise, the error has been reduced to a tenth, only 5 millimeters. You can also see an overshoot in the response, and the beginning of some instability.</li>
<li>With higher gains, the permanent error can be further reduced, but the response speed does not increase because the system becomes so unstable that the position takes a long time to establish itself in its final state.</li>
</ul>
</div></blockquote>
<p>In this example the proportional action has been scaled so that its values ​​are between 0 and 100.</p>
<p>At this point, it can be seen that proportional action cannot further improve system response. The best option with Kp=20 presents an overpulse of about 30 millimeters and a permanent error of 5 millimeters. If you want to improve this response, you must incorporate another type of control. This is where derivative control can help improve system response.</p>
</div>
<div class="section" id="accion-de-control-derivativa">
<h2>Derivative control action<a class="headerlink" href="#accion-de-control-derivativa" title="Permalink to this headline">¶</a></h2>
<p>As its name indicates, this control action is proportional to the derivative of the error signal <strong>e(t)</strong> multiplied by the constant <strong>Kd</strong>. The derivative of the error is another way of calling the &quot;speed&quot; of the error. It will be seen below why it is so important to calculate this velocity. In the above graphs, when the position is below 150mm, the proportional control action always tries to increase the position. The problem comes when taking into account the inertia. When the system moves at a high speed towards the reference point, the system will pass by due to its inertia. This produces an overshoot and oscillations around the reference. To avoid this problem, the controller must recognize the speed at which the system is approaching the reference so that it can slow it down in advance as it approaches the desired reference and prevent it from exceeding it.</p>
<p>Increasing the derivative control constant <strong>Kd</strong> has the following effects:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Increases the stability of the controlled system.</li>
<li>It slows down the system a bit.</li>
<li>The steady state error will remain the same.</li>
</ol>
</div></blockquote>
<p>This control action will therefore serve to stabilize a response that oscillates too much.</p>
<a class="reference internal image-reference" href="_images/img-0057.png"><img alt="PID. Respuesta al Control Derivativo." class="align-center" src="_images/img-0057.png" style="width: 800px;"></a>
<p>In the previous graphs it can be seen how, by increasing the derivative action Kd, it is possible to reduce the oscillations to the point that they disappear for Kd=50. It can also be seen how the response slows down a bit as the derivative constant increases. With Kd=0 the system takes 1.8 seconds to rise to the reference value. With Kd=20 the system takes 2 seconds to rise to the reference value. In this example the derivative action has been scaled so that its values ​​are between 0 and 100.</p>
<p>One problem with derivative control is that it amplifies rapidly varying signals, such as high-frequency noise. Due to this effect, the noise of the error signal appears amplified in the drive of the plant. In order to reduce this effect, it is necessary to reduce the noise of the error signal by means of a <a class="reference external" href="https://es.wikipedia.org/wiki/Filtro_paso_bajo" rel="noopener noreferrer" target="_blank">low-pass filter</a> before applying it to the derivative term. With this filter the derivative action is limited, so it is desirable to reduce the noise of the error signal by other means before resorting to a low pass filter.</p>
<p>At this point, the system is fast and stable, but still has a small steady state error. This means that the actual position of the system is not exactly the desired position. In order to reduce this error, the third action of the PID controller is used, the Integral control.</p>
</div>
<div class="section" id="accion-de-control-integral">
<h2>Comprehensive control action<a class="headerlink" href="#accion-de-control-integral" title="Permalink to this headline">¶</a></h2>
<p>This control action, as the name suggests, calculates the integral of the <strong>error signal e(t)</strong> and multiplies it by the constant <strong>Ki</strong>. The integral can be seen as the sum or accumulation of the error signal. As time goes by, small errors add up to make the integral action bigger and bigger. With this it is possible to reduce the error of the system in permanent regime. The disadvantage of using the integral action is that it adds some inertia to the system and therefore makes it more unstable.</p>
<p>Increasing the integral action <strong>Ki</strong> has the following effects:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Decreases the system error in permanent regime.</li>
<li>Increases system instability.</li>
<li>It slightly increases the speed of the system.</li>
</ol>
</div></blockquote>
<p>This control action will serve to reduce the error in steady state.</p>
<a class="reference internal image-reference" href="_images/img-0058.png"><img alt="PID. Respuesta al Control Integral." class="align-center" src="_images/img-0058.png" style="width: 800px;"></a>
<p>An enlarged error signal, colored green, has been added to the above graphs to better appreciate how the error decreases as the integral action increases. Another visible effect is the increased instability of the system as Ki increases. For this reason, integral control is often combined with derivative control to avoid system oscillations.</p>
</div>
<div class="section" id="sintonizacion-manual-de-un-controlador-pid">
<h2>Manual tuning of a PID controller<a class="headerlink" href="#sintonizacion-manual-de-un-controlador-pid" title="Permalink to this headline">¶</a></h2>
<p>After seeing the different proportional, integral and derivative actions of a PID control, some simple rules can be applied to manually tune this controller.</p>
<p><strong>1º - Proportional Action.</strong></p>
<p>The proportional action is gradually increased to decrease the error (difference between the desired state and the achieved state) and to increase the response speed.</p>
<p>If the desired speed and error response is reached, the PID is already tuned.</p>
<p>If the system becomes unstable before the desired response is achieved, the derivative action should be increased.</p>
<p><strong>2nd - Derivative Action.</strong></p>
<p>If the system is too unstable, the derivative constant Kd will be gradually increased to achieve response stability again.</p>
<p><strong>3rd - Comprehensive Action.</strong></p>
<p>In the event that the system error is greater than desired, the integral constant Ki will be increased until the error is minimized with the desired speed.</p>
<p>If the system becomes unstable before the desired response is achieved, the derivative action should be increased.</p>
<p>With these simple rules it is easy to gradually tune the PID controller until the desired response is achieved.</p>
</div>
<div class="section" id="ecuacion-del-controlador">
<h2>Controller equation<a class="headerlink" href="#ecuacion-del-controlador" title="Permalink to this headline">¶</a></h2>
<p>The PID control equation is as follows:</p>
<div class="math">
<p><img src="_images/math/2823ae22e42d583109e085a85f338eed97a69a73.svg" alt="c(t) = Kp \cdot e(t) + Ki \cdot \int_{}^{}e(t) dt + Kd \cdot \frac{\partial e(t)}{\partial t}"></p>
</div><p>For:</p>
<blockquote>
<div><ul class="simple">
<li>c(t) = control signal</li>
<li>e(t) = error signal</li>
<li>Kp, Ki, Kd = PID controller parameters</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="saturacion-y-limites-del-controlador-pid">
<h2>PID Controller Saturation and Limits<a class="headerlink" href="#saturacion-y-limites-del-controlador-pid" title="Permalink to this headline">¶</a></h2>
<p>In real systems there are limitations that reduce the ability of the controller to achieve the desired response. No matter how much the proportional action is increased, there will come a time when the actuator will saturate and will not be able to give more of itself. For example, in a temperature control system, the heating element can supply power up to 2000 watts. If the controller tries to deliver more power to get faster heating speed, it will not be able to and the system will not get faster. Even if the proportional control action is increased the actuator limit of 2000 watts limits the maximum heating rate.</p>
<p>Therefore, it must be taken into account that the response speed of real systems has certain limits that the control cannot exceed.</p>
</div>
<div class="section" id="simuladores-de-control-pid">
<h2>PID control simulators<a class="headerlink" href="#simuladores-de-control-pid" title="Permalink to this headline">¶</a></h2>
<p>This small program simulates an automatically guided carriage controlled by a PID controller. The objective of the program is to learn how to modify the parameters of the PID controller in order to ensure that the carriage is positioned quickly and without error.</p>
<p><a class="reference download internal" download="" href="_downloads/motion-control-031.zip"><code class="xref download docutils literal notranslate"><span class="pre">Motion</span> <span class="pre">Control.</span> <span class="pre">Version</span> <span class="pre">0.31</span></code></a></p>
<p>This other program simulates the heating of a boiler used to heat heating water. The thermal system uses two PID controls to control the two different water temperatures.</p>
<p><a class="reference download internal" download="" href="_downloads/thermal-control-011.zip"><code class="xref download docutils literal notranslate"><span class="pre">Thermal</span> <span class="pre">Control.</span> <span class="pre">Version</span> <span class="pre">0.11</span></code></a></p>
</div>
<div class="section" id="referencias">
<h2>References<a class="headerlink" href="#referencias" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://es.wikipedia.org/wiki/Proportional_integral_derivative" rel="noopener noreferrer" target="_blank">Wikipedia: PID controller</a></p>
<p><a class="reference external" href="https://es.wikipedia.org/wiki/Control_system" rel="noopener noreferrer" target="_blank">Wikipedia: Control system</a></p>
<p><a class="reference external" href="https://es.wikipedia.org/wiki/Servomotor_de_modelismo" rel="noopener noreferrer" target="_blank">Wikipedia: Servomotor</a></p>
<p>[1] Ogata, Katsuhiko. Modern Control Engineering. Third edition. Prentice Hall Publisher.</p>
<p>[2] Ogata, Katsuhiko. Control systems in discrete time. Second edition. Prentice Hall Publisher.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="control-ziegler-nichols.html" class="btn btn-neutral float-right" title="Ziegler–Nichols method" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="control-auto.html" class="btn btn-neutral" title="Automatic control" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr>

  <div role="contentinfo">
    <ul class="link-list">
    <li><a href="contacto.html" target="_blank">Contact</a></li>
    <li><a href="manifiesto.html" target="_blank">Manifest</a></li>
    <li><a href="../es/legal-aviso.html" target="_blank">Terms Of Service</a></li>
    <li><a href="legal-cookies.html" target="_blank">Cookie policy</a></li>
    <li><a href="legal-attribution.html" target="_blank">Credits</a></li>
    <li><a href="genindex.html" target="_blank">Glossary</a></li>
    <li><a href="content.html" target="_blank">Index</a></li>
    </ul>
    <p class="content-info">
      Copyright &copy; 2013-2025, Carlos Félix Pardo Martín.
      <br>

      Contents under <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank">CC BY-SA 4.0 license</a>
      and computer programs under <a href="https://www.gnu.org/licenses/gpl-3.0.html" target="_blank">GPL v3 license</a>
      unless otherwise specified.
      <br>
      <span class="lastupdated">
        Last updated on January, 2025.
      </span>

    </p>
  </div> 

</footer>


          

        </div>
      </div>

    </div>


    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo-picuino-bgblue.png" class="logo" alt="O_[]¯O Picuino">
          
          </a>
          <br>
          <a href="../es/control-pid.html">Español</a>
          <br>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dibujo-index.html">Technical drawing</a></li>
<li class="toctree-l1"><a class="reference internal" href="mecan-index.html">Mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="material-index.html">Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="electric-index.html">Electricity</a></li>
<li class="toctree-l1"><a class="reference internal" href="electronic-index.html">Electronics</a></li>
<li class="toctree-l1"><a class="reference internal" href="informatica-index.html">Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="prog-index.html">Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="arduprog/index.html">Arduino</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="robotica-index.html">Robótica</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="control-index.html">System control</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="control-auto.html">Automatic control</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">PID controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="control-ziegler-nichols.html">Ziegler–Nichols method</a></li>
<li class="toctree-l3"><a class="reference internal" href="control-pid-digital.html">Digital PID controller</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="control-actuator-index.html">Actuators</a></li>
<li class="toctree-l2"><a class="reference internal" href="control-sensor-index.html">Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="robotica-normativa.html">Normativa Código Escuela 4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="robotica-recursos.html">Recursos para Robótica</a></li>
<li class="toctree-l2"><a class="reference internal" href="robotica-robots-actuales.html">Robots actuales</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="comm-index.html">Communications</a></li>
<li class="toctree-l1"><a class="reference internal" href="taller-index.html">Technology Workshop</a></li>
<li class="toctree-l1"><a class="reference internal" href="recursos-index.html">Another resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="ley-index.html">Educational Legislation</a></li>
</ul>

            
          

          <!-- Enlaces directos -->
          <br>
          <ul>
          <li class="toctree-l1"><a class="reference internal"
          href="https://www.picuino.com/es/manifiesto.html">Manifiesto</a>
          </li><li class="toctree-l1"><a class="reference internal"
          href="https://www.picuino.com/test/">Technology Test</a>
          </li><li class="toctree-l1"><a class="reference internal"
          href="https://www.picuino.com/circuits/">Circuits simulator</a>
          </li><li class="toctree-l1"><a class="reference internal"
          href="https://github.com/picuino/tecno-recursos">Project in GitHub</a>
          </li>
          </ul>
        </div>
      </div>
    </nav>

  </div>
  


  

    
    
      <script defer id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    

   

  <script defer src="_static/theme.js"></script>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

</body>
</html>